var punycode=new function(){this.utf16={decode:function(r){for(var o,e,n=[],t=0,f=r.length;t<f;){if(55296==(63488&(o=r.charCodeAt(t++)))){if(e=r.charCodeAt(t++),55296!=(64512&o)||56320!=(64512&e))throw new RangeError("UTF-16(decode): Illegal UTF-16 sequence");o=((1023&o)<<10)+(1023&e)+65536}n.push(o)}return n},encode:function(r){for(var o,e=[],n=0,t=r.length;n<t;){if(55296==(63488&(o=r[n++])))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");o>65535&&(o-=65536,e.push(String.fromCharCode(o>>>10&1023|55296)),o=56320|1023&o),e.push(String.fromCharCode(o))}return e.join("")}};var r=36,o=700,e=1,n=26,t=38,f=2147483647;function h(r,o){return r+22+75*(r<26)-((0!=o)<<5)}function a(f,h,a){var i;for(f=a?Math.floor(f/o):f>>1,f+=Math.floor(f/h),i=0;f>(r-e)*n>>1;i+=r)f=Math.floor(f/(r-e));return Math.floor(i+(r-e+1)*f/(f+t))}this.decode=function(o,t){var h,i,c,d,l,p,g,s,C,v,w,y,A,E,M=[],R=[],_=o.length;for(h=128,c=0,d=72,(l=o.lastIndexOf("-"))<0&&(l=0),p=0;p<l;++p){if(t&&(R[M.length]=o.charCodeAt(p)-65<26),o.charCodeAt(p)>=128)throw new RangeError("Illegal input >= 0x80");M.push(o.charCodeAt(p))}for(g=l>0?l+1:0;g<_;){for(s=c,C=1,v=r;;v+=r){if(g>=_)throw RangeError("punycode_bad_input(1)");if((w=(E=o.charCodeAt(g++))-48<10?E-22:E-65<26?E-65:E-97<26?E-97:r)>=r)throw RangeError("punycode_bad_input(2)");if(w>Math.floor((f-c)/C))throw RangeError("punycode_overflow(1)");if(c+=w*C,w<(y=v<=d?e:v>=d+n?n:v-d))break;if(C>Math.floor(f/(r-y)))throw RangeError("punycode_overflow(2)");C*=r-y}if(d=a(c-s,i=M.length+1,0===s),Math.floor(c/i)>f-h)throw RangeError("punycode_overflow(3)");h+=Math.floor(c/i),c%=i,t&&R.splice(c,0,o.charCodeAt(g-1)-65<26),M.splice(c,0,h),c++}if(t)for(c=0,A=M.length;c<A;c++)R[c]&&(M[c]=String.fromCharCode(M[c]).toUpperCase().charCodeAt(0));return this.utf16.encode(M)},this.encode=function(o,t){var i,c,d,l,p,g,m,s,C,v,w,y;t&&(y=this.utf16.decode(o));var A=(o=this.utf16.decode(o.toLowerCase())).length;if(t)for(g=0;g<A;g++)y[g]=o[g]!=y[g];var E,M,R=[];for(i=128,c=0,p=72,g=0;g<A;++g)o[g]<128&&R.push(String.fromCharCode(y?(E=o[g],M=y[g],(E-=(E-97<26)<<5)+((!M&&E-65<26)<<5)):o[g]));for(d=l=R.length,l>0&&R.push("-");d<A;){for(m=f,g=0;g<A;++g)(w=o[g])>=i&&w<m&&(m=w);if(m-i>Math.floor((f-c)/(d+1)))throw RangeError("punycode_overflow (1)");for(c+=(m-i)*(d+1),i=m,g=0;g<A;++g){if((w=o[g])<i&&++c>f)return Error("punycode_overflow(2)");if(w==i){for(s=c,C=r;!(s<(v=C<=p?e:C>=p+n?n:C-p));C+=r)R.push(String.fromCharCode(h(v+(s-v)%(r-v),0))),s=Math.floor((s-v)/(r-v));R.push(String.fromCharCode(h(s,t&&y[g]?1:0))),p=a(c,d+1,d==l),c=0,++d}}++c,++i}return R.join("")},this.ToASCII=function(r){for(var o=r.split("."),e=[],n=0;n<o.length;++n){var t=o[n];e.push(t.match(/[^A-Za-z0-9-]/)?"xn--"+punycode.encode(t):t)}return e.join(".")},this.ToUnicode=function(r){for(var o=r.split("."),e=[],n=0;n<o.length;++n){var t=o[n];e.push(t.match(/^xn--/)?punycode.decode(t.slice(4)):t)}return e.join(".")}};
